
  let data = [
    {
        from:"店鋪公告",
        n_name:"最新消息每一則新聞都可以點擊歐，裡面有詳細資訊",
        time:"2025-02-08",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"系統公告",
        n_name:"網站登入頁面更新啦",
        time:"2025-02-07",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"系統公告",
        n_name:"網站最新消息頁面更新啦",
        time:"2025-02-06",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"店鋪公告",
        n_name:"許願池功能開啟啦，趕快去看看吧！",
        time:"2025-02-05",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"店鋪公告",
        n_name:"最新消息每一則新聞都可以點擊歐，裡面有詳細資訊",
        time:"2025-02-04",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"系統公告",
        n_name:"網站登入頁面更新啦",
        time:"2025-02-03",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"系統公告",
        n_name:"網站最新消息頁面更新啦",
        time:"2025-02-02",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"店鋪公告",
        n_name:"許願池功能開啟啦，趕快去看看吧！",
        time:"2025-02-01",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"店鋪公告",
        n_name:"最新消息每一則新聞都可以點擊歐，裡面有詳細資訊",
        time:"2025-01-31",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"系統公告",
        n_name:"網站登入頁面更新啦",
        time:"2025-01-30",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"系統公告",
        n_name:"網站最新消息頁面更新啦",
        time:"2025-01-29",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"店鋪公告",
        n_name:"許願池功能開啟啦，趕快去看看吧！",
        time:"2025-01-28",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"系統公告",
        n_name:"網站以後會固定在星期三晚上7:00-9:00進行更新",
        time:"2025-01-27",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"系統公告",
        n_name:"網站會在2025-01-26進行更新",
        time:"2025-01-25",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
    {
        from:"店鋪公告",
        n_name:"店鋪即將開張！趕快來看看新上架的商品吧！",
        time:"2025-01-24",
        detail:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Labore ab cumque minima voluptas excepturi delectus vitae ipsam repudiandae, saepe ad totam quos? Error dolorem consectetur harum cum modi esse iure at nemo, accusamus ad! Omnis veniam odio quasi commodi, ipsa vitae, dolorem culpa voluptatibus dolore obcaecati impedit expedita delectus quae ut. Mollitia, consequatur molestias cum laudantium libero, quos voluptatum at ipsa, saepe omnis deserunt. Illum corrupti eum, magnam porro repellat sequi repellendus aperiam cupiditate rem ullam quibusdam iste. Veritatis animi, consequatur est aut ratione minima! Odio magni ipsam dicta ullam enim, eum facere dignissimos non, accusantium sunt, laborum eveniet. Porro."
    },
];
let filteredData = data;  // 預設為全部資料
    let itemsPerPage = 7;
    let currentPage = 1;

    // 計算總頁數
    function getTotalPages() {
      return Math.ceil(filteredData.length / itemsPerPage);
    }

    // 顯示新聞列表
    function renderNews(page) {
      currentPage = page;
      const totalPages = getTotalPages();
      const start = (page - 1) * itemsPerPage;
      const end = page * itemsPerPage;
      const currentItems = filteredData.slice(start, end);

      let html = "";
      currentItems.forEach((item, index) => {
        // 這裡的 index 是當前頁面的局部索引，若要取全域索引需調整計算
        // 但我們可以直接在 showNewsDetail() 裡用 (start + index)
        html += `
          <tr>
            <td class="announce" style="padding-left: 2vw;">${item.from}</td>
            <td>
              <a href="#" 
                 onclick="showNewsDetail(${start + index})"
                  class="name">
                ${item.n_name}
              </a>
            </td>
            <td class="time">${item.time}</td>
          </tr>
        `;
      });
      document.querySelector(".news tbody").innerHTML = html;
      renderPagination();
    }

    // 產生分頁導覽
    function renderPagination() {
      const totalPages = getTotalPages();
      let paginationHTML = "";

      // 上一頁按鈕
      if (currentPage > 1) {
        paginationHTML += `<button onclick="renderNews(${currentPage - 1})">上一頁</button>`;
      } else {
        paginationHTML += `<button disabled>上一頁</button>`;
      }

      // 頁碼連結
      for (let i = 1; i <= totalPages; i++) {
        if (i === currentPage) {
          paginationHTML += `<span class="active" style="margin:0 5px;">${i}</span>`;
        } else {
          paginationHTML += `<a href="#" style="margin:0 5px;" onclick="renderNews(${i})">${i}</a>`;
        }
      }

      // 下一頁按鈕
      if (currentPage < totalPages) {
        paginationHTML += `<button onclick="renderNews(${currentPage + 1})">下一頁</button>`;
      } else {
        paginationHTML += `<button disabled>下一頁</button>`;
      }

      document.getElementById("pagination").innerHTML = paginationHTML;
    }

    // 過濾新聞（依據分類），並從第一頁開始顯示
    function filterNews(category) {
      if (category === "全部公告") {
        filteredData = data;
      } else {
        filteredData = data.filter(item => item.from === category);
      }
      renderNews(1);
    }

    // 顯示新聞詳細內容
    function showNewsDetail(index) {
      // 1. 根據 index 從 filteredData 取得對應新聞
      const item = filteredData[index];

      // 2. 將新聞詳細內容塞到 detail 區域
      document.getElementById("detailTitle").textContent = item.n_name;
      document.getElementById("detailFrom").textContent = item.from;
      document.getElementById("detailTime").textContent = item.time;
      document.getElementById("detailContent").textContent = item.detail;

      // 3. 顯示 detail 區塊，隱藏列表
      document.getElementById("newsListPage").style.display = "none";
      document.getElementById("newsDetailPage").style.display = "block";
    }

    // 返回新聞列表
    function showNewsList() {
      // 隱藏 detail 區塊，顯示列表
      document.getElementById("newsDetailPage").style.display = "none";
      document.getElementById("newsListPage").style.display = "block";
    }

    // 假設你的標籤連結（tab-link）可能是這樣：
    // <a class="tab-link" href="#">全部公告</a>
    // <a class="tab-link" href="#">系統公告</a>
    // <a class="tab-link" href="#">店鋪公告</a>
    const tabs = document.querySelectorAll('.tab-link');
    tabs.forEach(tab => {
      tab.addEventListener('click', function(e) {
        e.preventDefault();
        tabs.forEach(t => t.classList.remove('active'));
        e.target.classList.add('active');
        filterNews(e.target.textContent.trim());
      });
    });

    // 預設載入「全部公告」
    filterNews("全部公告");

