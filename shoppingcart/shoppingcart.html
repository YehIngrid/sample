<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <title>購物車與個人資訊</title>
        
    <!-- meta部分 -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="拾貨寶庫是中興大學最方便的二手拍賣市集"/>
    <meta name="keywords" content="拾獲寶庫、拾貨寶庫、中興二手"/>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <!-- link部分 -->
    <!-- *icon/css/fontawesome/fontgoogle/bootstrap_net/font*2/webfont_icons -->
    <link rel="shortcut icon" href="https://raw.githubusercontent.com/YehIngrid/sample/refs/heads/main/%E6%8B%BE%E8%B2%A8%E5%AF%B6%E5%BA%AB_circular_icon.ico">
    <link rel="stylesheet" href="../demo.css">
    <link rel="stylesheet" href="shoppingcart.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="../bubble.css">
    <link href="https://fonts.googleapis.com/css2?family=Cactus+Classical+Serif&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/dist/tabler-icons.min.css" />
</head>


<body>
  <div class="bubble bubble1 parallax"></div>
<div class="bubble bubble2 parallax"></div>
<div class="bubble bubble3 parallax"></div>
<div class="bubble bubble4 parallax"></div>
<div class="bubble bubble5 parallax"></div>
  <div class="d-flex flex-column justify-content-center align-items-center"  id="loader">
    <div class="spinner">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
    <div><p style="color: #383838; font-family: 'TimeMachine'; font-weight: bold; letter-spacing: 3px;"><br><br>拾貨寶庫加載中... </p></div>
  </div>
  <div id="whatcontent" class="d-none">
    <!-- TODO header -->
    <div class="header ">
        <!--TODO 響應式選單-->
        <nav class="navbar navbar-expand-lg navbar-color bg-color header_new" style="box-shadow: 0 0 2px rgb(0,0,0,0.2);">
          <div class="container-fluid d-flex align-items-center sticky-top">
        
            <!-- (A) LOGO 放在最左邊 -->
            <a class="navbar-brand picture me-4" href="https://yehingrid.github.io/sample/%E6%8B%BE%E8%B2%A8%E5%AF%B6%E5%BA%AB/home.html">
              <img src="../svg/TREASUREHUBCHEN.svg"  alt="拾貨寶庫 Logo" style="width: 100px; border-radius: 0;">
            </a>
        
            <!-- (B) 桌機版導覽選單 -->
            <div class="d-none d-lg-flex">
              <ul class="navbar-nav" >
                <li class="nav-item"><a class="nav-link" href="../newhome.html">首頁</a></li>
                <li class="nav-item"><a class="nav-link" href="../news/news.html">最新資訊</a></li>
                <li class="nav-item"><a class="nav-link" href="../shop/shoppingpage_bootstrap.html">商品分類</a></li>
                <li class="nav-item"><a class="nav-link" href="../questions/questions.html">常見問題</a></li>
                <li class="nav-item"><a class="nav-link" href="../introduce/introduce.html">團隊介紹</a></li>
                <li class="nav-item specialpadding"><a class="nav-link" href="../communication/communication.html">客服諮詢</a></li>
              </ul>
            </div>
        
            <!-- (C) 右側：登入 + 購物車 -->
            <div class="d-flex align-items-center ms-auto">
              <div class="login">
                <a id="username" class="username" href="../person/person.html"></a>
                <a class="navbar-brand" href="../account/account.html" id="loginornot">登入</a>
              </div>
              <a class="nav-link specialpadding ms-2" href="shoppingcart.html">
                <img src="../svg/shoppingcart.svg" alt="">
              </a>
            </div>
          </div>
        </nav>
        
        <!-- 桌機版也顯示的搜尋欄 -->
        <div class="container-fluid1">
          <div class="d-flex align-items-center">
            <!-- 手機版：漢堡選單按鈕放最左邊 -->
            <button class="navbar-toggler me-3 d-lg-none" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon">
                <svg style="padding-right: 7px;" width="24" height="18" viewBox="0 0 24 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M2 2H22" stroke="#9CBED2" stroke-width="3" stroke-linecap="round"/>
                  <path d="M2 8H22" stroke="#83ADC5" stroke-width="3" stroke-linecap="round"/>
                  <path d="M2 14H22" stroke="#689EBE" stroke-width="3" stroke-linecap="round"/>
                </svg>
                  
              </span>
            </button>
            <form id="searchForm" class="form-search w-100 d-flex justify-content-center">
              <input class="form-control me-2" style="max-width: 730px !important; " type="search" placeholder="搜尋商品..." aria-label="Search" id="searchInput">
              <button class="btn" type="submit">
                <svg width="28" height="21" viewBox="0 0 28 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10Z" fill="white"/>
                  <path d="M18.5 10C18.5 14.6944 14.6944 18.5 10 18.5C5.30558 18.5 1.5 14.6944 1.5 10C1.5 5.30558 5.30558 1.5 10 1.5C14.6944 1.5 18.5 5.30558 18.5 10Z" stroke="url(#paint0_linear_83_152)" stroke-opacity="0.8" stroke-width="3"/>
                  <path d="M25.1252 20.5166C25.8409 20.9339 26.7593 20.6919 27.1765 19.9762C27.5937 19.2605 27.3518 18.3421 26.6361 17.9249L25.1252 20.5166ZM18.3639 16.5751L25.1252 20.5166L26.6361 17.9249L19.8748 13.9834L18.3639 16.5751Z" fill="url(#paint1_linear_83_152)" fill-opacity="0.6"/>
                  <defs>
                  <linearGradient id="paint0_linear_83_152" x1="3" y1="44" x2="3" y2="64" gradientUnits="userSpaceOnUse">
                  <stop stop-color="#24B685" stop-opacity="0.6"/>
                  <stop offset="1" stop-color="#004B97" stop-opacity="0.7"/>
                  </linearGradient>
                  <linearGradient id="paint1_linear_83_152" x1="22.6763" y1="14.5057" x2="22.4519" y2="17.9985" gradientUnits="userSpaceOnUse">
                  <stop stop-color="#24B685"/>
                  <stop offset="1" stop-color="#004B97" stop-opacity="0.7"/>
                  </linearGradient>
                  </defs>
                  </svg>
              </button>
            </form>
          </div>
        
          <!-- 手機版導覽選單展開內容 -->
          <div class="collapse navbar-collapse mt-2 d-lg-none" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item"><a class="nav-link" href="../newhome.html">首頁</a></li>
              <li class="nav-item"><a class="nav-link" href="../news/news.html">最新資訊</a></li>
              <li class="nav-item"><a class="nav-link" href="../shop/shoppingpage_bootstrap.html">商品分類</a></li>
              <li class="nav-item"><a class="nav-link" href="../questions/questions.html">常見問題</a></li>
              <li class="nav-item"><a class="nav-link" href="../introduce/introduce.html">團隊介紹</a></li>
              <li class="nav-item specialpadding"><a class="nav-link" href="../communication/communication.html">客服諮詢</a></li>
            </ul>
          </div>
        </div>
    </div>
</div>

<main style="font-size: 1.6rem;">
  <div class="container py-4">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h3 class="mb-0">購物車</h3>
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="checkAll">
      <label class="form-check-label" for="checkAll">全選顯示到結算表</label>
    </div>
  </div>

  <div class="row g-4">
    <!-- 商品清單 -->
    <div class="col-lg-8">
      <div id="cart-items" class="list-group"></div>
      <div class="d-flex justify-content-between mt-2">
        <button id="clear-checked" class="btn btn-outline-secondary btn-sm">移除已勾選</button>
        <button id="clear-all" class="btn btn-outline-danger btn-sm">清空購物車</button>
      </div>
    </div>

    <!-- 結帳摘要 -->
    <div class="col-lg-4">
      <div class="card summary-card">
        <div class="card-body">
          <h5 class="card-title">訂單摘要</h5>

          <!-- 訂單狀態 -->
          <div class="mb-3">
            <label class="form-label">訂單狀態</label>
            <select id="order-status" class="form-select">
              <option value="processing">處理中</option>
              <option value="paid">已付款（面交時）</option>
              <option value="shipped" disabled>已出貨（停用）</option>
              <option value="completed">已完成</option>
              <option value="cancelled">已取消</option>
            </select>
            <div class="form-text">運送方式固定為面交付款，本欄為整筆訂單狀態。</div>
          </div>

          <!-- 運送方式（固定） -->
          <div class="mb-3">
            <label class="form-label">運送方式</label>
            <div class="form-control d-flex align-items-center gap-2">
              <span class="badge text-bg-primary">面交</span>
              <span>面交取貨付款（COD）</span>
            </div>
            <div class="form-text">僅支援面對面交付與當面付款。</div>
          </div>

          <!-- 面交資訊 -->
          <div class="mb-3">
            <label class="form-label">聯絡人</label>
            <input id="pickup-name" type="text" class="form-control" placeholder="姓名（必填）" required>
          </div>
          <div class="mb-3">
            <label class="form-label">聯絡電話</label>
            <input id="pickup-phone" type="tel" class="form-control" placeholder="09xx-xxx-xxx（必填）" required>
          </div>
          <div class="mb-3">
            <label class="form-label">面交地點</label>
            <input id="pickup-place" type="text" class="form-control" placeholder="例：中興大學 正門/圖書館門口（必填）" required>
          </div>
          <div class="mb-3">
            <label class="form-label">面交時間</label>
            <input id="pickup-datetime" type="datetime-local" class="form-control" required>
            <div class="form-text">以賣家確認為準，可在備註補充彈性時段。</div>
          </div>
          <div class="mb-3">
            <label class="form-label">備註</label>
            <textarea id="pickup-note" rows="2" class="form-control" placeholder="例如：可接受 18:00-19:00、下雨改隔日等"></textarea>
          </div>

          <!-- 小表格 -->
          <table class="table table-sm align-middle" id="checkout-table">
            <thead>
              <tr>
                <th>商品</th>
                <th class="text-center">數量</th>
                <th class="text-end">金額</th>
              </tr>
            </thead>
            <tbody><!-- 動態插入 --></tbody>
          </table>

          <hr>
          <div class="d-flex justify-content-between">
            <span class="muted-sm">小計</span>
            <span id="subtotal" class="price">NT$ 0</span>
          </div>
          <div class="d-flex justify-content-between">
            <span class="muted-sm">運費（面交）</span>
            <span id="shipping-fee" class="price">NT$ 0</span>
          </div>
          <div class="d-flex justify-content-between">
            <span class="muted-sm">折扣</span>
            <span id="discount" class="price">- NT$ 0</span>
          </div>
          <div class="d-flex justify-content-between mt-2">
            <span class="fw-bold">總計</span>
            <span id="grand-total" class="fw-bold text-danger price">NT$ 0</span>
          </div>

          <button id="checkout-btn" class="btn btn-primary w-100 mt-3">送出訂單（面交付款）</button>
          <div class="form-text mt-2">只有被勾選的商品會計入本次訂單。</div>
        </div>
      </div>
    </div>
  </div>
</div>

</main>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="shoppingcart.js"></script>
        <script src="../BackendService.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
