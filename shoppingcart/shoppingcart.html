<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <title>購物車 | 拾貨寶庫</title>
        
    <!-- meta部分 -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="拾貨寶庫是中興大學最方便的二手拍賣市集"/>
    <meta name="keywords" content="拾獲寶庫、拾貨寶庫、中興二手"/>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <!-- link部分 -->
    <!-- *icon/css/fontawesome/fontgoogle/bootstrap_net/font*2/webfont_icons -->
    <link rel="shortcut icon" href="https://raw.githubusercontent.com/YehIngrid/sample/refs/heads/main/%E6%8B%BE%E8%B2%A8%E5%AF%B6%E5%BA%AB_circular_icon.ico">
    <link rel="stylesheet" href="../demo.css">
    <script src="../demo.js" defer></script>
    <link rel="stylesheet" href="shoppingcart.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="../bubble.css">
    <link href="https://fonts.googleapis.com/css2?family=Cactus+Classical+Serif&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/dist/tabler-icons.min.css" />
</head>


<body>
  <div class="bubble bubble1 parallax"></div>
<div class="bubble bubble2 parallax"></div>
<div class="bubble bubble3 parallax"></div>
<div class="bubble bubble4 parallax"></div>
<div class="bubble bubble5 parallax"></div>
  <div class="d-flex flex-column justify-content-center align-items-center"  id="loader">
    <div class="spinner">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
    <div><p style="color: #383838; font-family: 'TimeMachine'; font-weight: bold; letter-spacing: 3px;"><br><br>拾貨寶庫加載中... </p></div>
  </div>
  <div id="whatcontent" class="d-none">
    <!-- TODO header -->
    <div class="header ">
        <!--TODO 響應式選單-->
        <!-- 響應式選單 -->
        <nav class="navbar navbar-expand-lg navbar-light bg-color header_new sticky-top" style="box-shadow: 0 0 2px rgb(0,0,0,0.2); display: block !important;">
          <div class="container-fluid d-flex align-items-center">

            <!-- (MOBILE) 漢堡選單：手機顯示、在 Logo 左邊 -->
            <button class="navbar-toggler d-lg-none me-2 order-0"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarNav"
                    aria-controls="navbarNav"
                    aria-expanded="false"   
                    aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>

            <!-- (ALL) Logo -->
            <a class="navbar-brand picture order-1 me-4"
              href="../newhome/newhome.html">
              <img src="../svg/TREASUREHUBCHEN.svg" alt="拾貨寶庫登入頁面"
                  style="width: 100px; margin-right: 10px; border-radius: 0%;">
            </a>

            <!-- (DESKTOP) 導覽選單：桌機顯示 -->
            <div class="d-none d-lg-flex order-2">
              <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" style="color: #383838;" href="../newhome/newhome.html">首頁</a></li>
                <li class="nav-item"><a class="nav-link" style="color: #383838;" href="../news/news.html">最新資訊</a></li>
                <li class="nav-item"><a class="nav-link" style="color: #383838;" href="../shop/shoppingpage_bootstrap.html">商品分類</a></li>
                <li class="nav-item"><a class="nav-link" style="color: #383838;" href="../questions/questions.html">常見問題</a></li>
                <li class="nav-item"><a class="nav-link" style="color: #383838;" href="../introduce/introduce.html">團隊介紹</a></li>
                <li class="nav-item specialpadding"><a class="nav-link" style="color: #383838;" href="../communication/communication.html">客服諮詢</a></li>
              </ul>
            </div>

            <!-- (RIGHT) 右側：登入 + 購物車（所有尺寸都有；用 ms-auto 推到最右） -->
            <div class="d-flex align-items-center ms-auto order-3">
              <div class="login me-2">
                <a class="username" href="../person/person.html"></a>
                <a class="navbar-brand loginornot" href="../account/account.html">登入</a>
              </div>
              <a class="nav-link specialpadding ms-2" href="../shoppingcart/shoppingcart.html">
                <img src="../svg/shoppingcart.svg" alt="我的購物車">
              </a>
            </div>
          </div>

          <!-- (MOBILE) 手機版導覽選單展開內容 -->
          <div class="collapse mt-2 d-lg-none" id="navbarNav"> <!-- ✅ 沒有 show -->
            <ul class="navbar-nav">
              <li class="nav-item"><a class="nav-link" href="../newhome/newhome.html">首頁</a></li>
              <li class="nav-item"><a class="nav-link" href="../news/news.html">最新資訊</a></li>
              <li class="nav-item"><a class="nav-link" href="../shop/shoppingpage_bootstrap.html">商品分類</a></li>
              <li class="nav-item"><a class="nav-link" href="../questions/questions.html">常見問題</a></li>
              <li class="nav-item"><a class="nav-link" href="../introduce/introduce.html">團隊介紹</a></li>
              <li class="nav-item specialpadding"><a class="nav-link" href="../communication/communication.html">客服諮詢</a></li>
            </ul>
          </div>
        </nav>

</div>

<main style="font-size: 1.2rem;">
  <div class="container py-3">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <h4 class="mb-0">購物車</h4>
  </div>
<svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="exclamation-triangle-fill" viewBox="0 0 16 16">
    <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
  </symbol>
</svg>
  <div class="row g-4">
    <!-- 商品清單 -->
    <div class="col-lg-8">
      <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" id="checkAll">
        <label class="form-check-label d-flex align-items-center" for="checkAll">
          全選商品<span class="warnSameSeller">請注意需要同個賣家之商品才可同時選取及下單</span>
        </label>
      </div>
      <div id="cart-items" class="list-group">
        <!-- 動態插入購物車商品項目 -->
      </div>
      <div class="d-flex justify-content-between mt-2">
        <button id="clear-checked" class="btn btn-outline-secondary btn-sm">移除已勾選</button>
        <button id="clear-all" class="btn btn-outline-danger btn-sm">清空購物車</button>
      </div>
    </div>

    <!-- 結帳摘要 -->
    <div class="col-lg-4">
      <div class="card summary-card">
        <div class="card-body">
          <h5 class="card-title">訂單資訊</h5>

          <!-- 訂單狀態 -->
          <div class="mb-3">
            <div class="warntext">運送方式固定為面交付款，本欄為整筆訂單狀態。且一筆訂單中只能選取同一位賣家的商品。</div>
          </div>

          <!-- 運送方式（固定） -->
          <div class="mb-3">
            <label class="form-label">運送方式</label>
            <div class="form-control d-flex align-items-center gap-2">
              <span class="badge text-bg-info">面交</span>
              <span>面交取貨付款（COD）</span>
            </div>
            <div class="form-text">目前僅支援面對面交付。</div>
          </div>
          
          <!-- 小表格 -->
          <table class="table table-sm align-middle" id="checkout-table">
            <thead>
              <tr>
                <th style="font-size: 12px;">商品</th>
                <th class="text-center" style="font-size: 12px;">數量</th>
                <th class="text-end" style="font-size: 12px;">金額</th>
              </tr>
            </thead>
            <tbody style="font-size: 12px;"><!-- 動態插入 --></tbody>
          </table>


          <div class="d-flex justify-content-between">
            <span class="muted-sm" style="font-size: 12px;">小計</span>
            <span id="subtotal" class="price" style="font-size: 12px;">NT$ 0</span>
          </div>
          <div class="d-flex justify-content-between">
            <span class="muted-sm" style="font-size: 12px;">運費（面交）</span>
            <span id="shipping-fee" class="price" style="font-size: 12px;">NT$ 0</span>
          </div>
          <div class="d-flex justify-content-between">
            <span class="muted-sm" style="font-size: 12px;">折扣</span>
            <span id="discount" class="price" style="font-size: 12px;">- NT$ 0</span>
          </div>
          <div class="d-flex justify-content-between mt-2">
            <span class="fw-bold">總計</span>
            <span id="grand-total" class="fw-bold text-danger price">NT$ 0</span>
          </div>
          <!-- 面交確認 -->
          <div class="mb-3">
            <div class="form-check" style="padding-top: 20px;">
              <input class="form-check-input" type="checkbox" value="" id="checkOrderRules">
              <label class="form-check-label" for="flexCheckDefault" style="font-size: 14px; font-weight: bold; ">
                我已經與賣家溝通好面交時間與地點，並且同意面交付款方式。
              </label>
            </div>
          </div>

          <button id="checkout-btn" class="btn w-100 mt-3">送出訂單（面交付款）</button>
          <div class="form-text mt-2">只有被勾選的商品會計入本次訂單。</div>
        </div>
      </div>
    </div>
  </div>
</div>
<button class="chaticon" id="chaticon">
    <img src="../svg/chaticon.svg" alt="">
</button>
<embed src="../chatroom.html" type="text/html" width="400" height="750" style="display: none;" id="talkInterface">
     
</main>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script src="shoppingcart.js"></script>
        <script src="../ChatBackendService.js"></script>
        <script src="../chatroom.js"></script>
        <script src="../BackendService.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
